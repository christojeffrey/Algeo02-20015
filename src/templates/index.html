{% extends 'base.html' %} {% block head %}
<title>ImageCompressorInator3000</title>
{% endblock head%} {% block body %}
<div class="w-50">
  <div class="text-center">
    <h1>ImageCompressorInator3000</h1>
  </div>
  <!-- file, compress setting, and compress button -->
  <form method="post" action="/" enctype="multipart/form-data">
      <h5>upload Image</h3>
      <input type="file" name="image" class="form-control-lg" autocomplete="off" required />
      <h5>compress percentage</h3>
    <div class="slidecontainer">
      <input type="range" class="form-range" name="compressPercentage" min="1" max="100" value="50" class="slider" id="myRange" />
    </div>
    <div id="compressPercentage">50</div>
    <div class="d-flex justify-content-center">
      <input type="submit" value="Compress!" class="btn btn-info" />
    </div>
  </form>
  <div class="d-flex justify-content-center">
    {% if compress %}
    <a href="{{url_for('static',filename='img/compressed.jpg')}}" download>
      <button class=" btn btn-danger">Download!</button>
    </a>
      {% else %}
      <button class=" btn btn-danger disabled">Download!</button>
      {% endif %}
  </div>
  
  <!-- image preview -->
  <div class="d-flex">
    {% if compress %}
    <div class="mw-50 m-1">
      <img class="img-fluid rounded" src="{{url_for('static',filename='img/'+ filename)}}" />
    </div>
    <div class="mw-50 m-1">
      <img class="img-fluid rounded" src="{{url_for('static',filename='img/compressed.jpg')}}" />
    </div>
   
    {% else %}
    <div class="w-50 m-1" >
      <img class="img-fluid rounded" src="{{url_for('static',filename='img/base/perry.png')}}" />
    </div>
    <div class="w-50 m-1">
      <img class="img-fluid rounded" src="{{url_for('static',filename='img/base/noimage.png')}}" />
    </div>
    {% endif %}
  </div>
  {% if compress %}
  <h4>
    Compress Log
  </h4>
  <div>
    {{compressLog}}
  </div>
  {% endif %}
</div>
{% endblock body%}
